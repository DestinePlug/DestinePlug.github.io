<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destine Plug - Products</title>
    <style>
        /* Your existing CSS styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        .header {
            background: #fff;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .logo {
            max-height: 200px;
            margin-bottom: 15px;
        }

        nav {
            padding: 15px;
            background: #fff;
        }

        nav a {
            text-decoration: none;
            color: #333;
            margin: 0 20px;
            font-weight: 500;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #1e90ff; /* Blue hover color */
        }

        .products-container {
            padding: 50px 5%;
            min-height: 100vh;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 0 auto;
            max-width: 1400px;
        }

        .product-card {
            border: 1px solid #eee;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            background: #fff;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .product-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 1px solid #eee;
        }

        .product-info {
            padding: 20px;
            text-align: center;
        }

        .price {
            color: #1e90ff;
            font-size: 1.2em;
            margin: 10px 0;
            font-weight: bold;
        }

        .btn {
            background: #1e90ff;
            color: #fff;
            border: none;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .btn:hover {
            background: #0077cc;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 40px 0;
        }

        .page-btn {
            padding: 8px 15px;
            border: 1px solid #ddd;
            background: #fff;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .page-btn.active {
            background: #1e90ff;
            color: #fff;
            border-color: #1e90ff;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            max-width: 90%; /* Adjusted for smaller screens */
            width: 500px; /* Default width for larger screens */
            text-align: center;
            position: relative;
            overflow-y: auto; /* Enable scrolling for small screens */
            max-height: 90vh; /* Limit height to 90% of viewport height */
        }

        .modal-content img {
            width: 100%;
            height: auto; /* Make image height responsive */
            max-height: 300px; /* Limit image height */
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .modal-content h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .modal-content p {
            font-size: 1em;
            color: #555;
            margin-bottom: 15px;
        }

        .modal-content .price {
            font-size: 1.2em;
            color: #1e90ff;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
            cursor: pointer;
            color: #333;
        }

        .close-btn:hover {
            color: #1e90ff;
        }

        /* New Product Block Styles */
        .product-block__inner {
            border: 1px solid #eee;
            border-radius: 10px;
            overflow: hidden;
            background: #fff;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .product-block__inner:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .image--shape-1 {
            position: relative;
        }

        .image__primary {
            position: relative;
        }

        .rimage-outer-wrapper {
            position: relative;
            overflow: hidden;
        }

        .rimage-wrapper {
            position: relative;
            width: 100%;
            height: 0;
            padding-top: 100%;
        }

        .rimage__image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-label--sale {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4757;
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
        }

        .product-block__title-price {
            padding: 15px;
            text-align: center;
        }

        .product-block__title-price .title {
            font-size: 1.1em;
            color: #333;
            text-decoration: none;
        }

        .price.on-sale {
            margin-top: 10px;
        }

        .price.on-sale .amount {
            color: #1e90ff;
            font-weight: bold;
        }

        .price.on-sale del {
            color: #888;
            margin-left: 5px;
        }

        .product-form--mini {
            padding: 0 15px 15px;
        }

        .mini-product-purchase-form {
            display: flex;
            justify-content: center;
        }

        .qty-adjuster-container {
            padding: 0 15px 15px;
        }

        .qty-adjuster--ajax {
            display: flex;
            justify-content: center;
        }

        .qty-adjuster__inner {
            display: flex;
            align-items: center;
            border: 1px solid #ddd;
            border-radius: 25px;
            overflow: hidden;
        }

        .qty-adjuster__down,
        .qty-adjuster__up {
            background: #f8f8f8;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        .qty-adjuster__value {
            width: 40px;
            text-align: center;
            border: none;
            outline: none;
        }

        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .product-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .product-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }

        /* Cart Styles */
        .cart-container {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }

        .cart-container h2 {
            margin-bottom: 15px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid #eee;
        }

        .cart-item img {
            width: 40px;
            height: 40px;
            object-fit: cover;
        }

        .cart-item div {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-item span {
            font-size: 0.9em;
        }

        #sendToWhatsApp {
            background: #25D366;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }

        #sendToWhatsApp:hover {
            background: #1da851;
        }
    </style>
</head>
<body>
    <div class="header">
        <img src="/067 453 9254 (7).png" alt="Destine Plug Logo" class="logo">
        <nav>
            <a href="index.html">Home</a>
            <a href="products.html">Products</a>
            <a href="/About.html">About Us</a>
        </nav>
    </div>

    <!-- Cart Section -->
    <div class="cart-container">
        <h2>Your Cart</h2>
        <div id="cartItems" style="margin: 15px 0;"></div>
        <p><strong>Total: </strong><span id="cartTotal">R0</span></p>
        <button id="sendToWhatsApp" class="btn" style="background: #25D366; margin-top: 15px;">
            Send Order via WhatsApp
        </button>
    </div>

    <div class="products-container">
        <div class="product-grid" id="productGrid"></div>
        <div class="pagination" id="pagination"></div>
    </div>

    <!-- Modal -->
    <div class="modal" id="productModal">
        <div class="modal-content">
            <span class="close-btn" id="closeModal">&times;</span>
            <img id="modalImage" src="" alt="Product Image">
            <h3 id="modalName"></h3>
            <p id="modalDescription"></p>
            <p class="price" id="modalPrice"></p>
        </div>
    </div>

    <script>
        // Actual product data with unique names, prices, descriptions, and images
        const products = [
            {
                id: 1,
                name: "Nano Machine",
                price: "R1400",
                originalPrice: "R1900",
                saleAmount: "20%",
                description: "Currently out of stock,available on Pre-Order ship in 15 to 21days,make R400+ Daily providing screeen protector services",
                image: "/FB_IMG_1738689783857.jpg"
            },
            {
  id: 1,
  name: "BerryBerry",
  price: "R80",
  originalPrice: "R100",
  saleAmount: "20%",
  description: "A floral fragrance with a blend of jasmine and rose.",
  image: "/40ml-BerryBerry-Bottle.jpg"
},
            {
                id: 2,
                name: "B man",
                price: "R80",
                originalPrice: "R120",
                saleAmount: "33%",
                description: "A bold and addictive scent with notes of coffee and vanilla.",
                image: "/40ml-BEditionMan-Bottle.jpg"
            },
            {
                id: 3,
                name: "ClubDeAbsolu",
                price: "R80",
                originalPrice: "R150",
                saleAmount: "47%",
                description: "A fresh and spicy fragrance with bergamot and ambroxan.",
                image: "/40ml-ClubDeAbsolu-Bottle.jpg"
            },
            {
                id: 4,
                name: "Flawless",
                price: "R80",
                originalPrice: "R100",
                saleAmount: "20%",
                description: "A timeless classic with floral and aldehydic notes.",
                image: "/40ml-FlawlessClassic-Bottle.jpg"
            },
            {
                id: 5,
                name: "OudDGreat",
                price: "R80",
                originalPrice: "R120",
                saleAmount: "33%",
                description: "A luxurious scent with notes of ylang-ylang and Damascus rose.",
                image: "/40ml-OudDGreat-Bottle.jpg"
            },
            {
                id: 6,
                name: "Facemask & Lipgloss Combo",
                price: "R30",
                originalPrice: "R50",
                saleAmount: "40%",
                description: "Any 2 until 08 feb",
                image: "/20250129_161036.jpg"
            },
            {
                id: 7,
                name: "Lipgloss",
                price: "R20",
                originalPrice: "R30",
                saleAmount: "33%",
                description: "Available in six different flavours strawberry,cherry,lemon,grape and honey peach",
                image: "/8AA908AB-8054-4327-866B-93875F54706F.png"
            },
            {
                id: 8,
                name: "WildIntense",
                price: "R80",
                originalPrice: "R100",
                saleAmount: "20%",
                description: "A crisp and refreshing scent with Sicilian cedar and apple.",
                image: "/40ml-WildIntense-Bottle.jpg"
            },
            {
                id: 9,
                name: "Blue J",
                price: "R120",
                originalPrice: "R150",
                saleAmount: "20%",
                description: "A modern oriental fragrance with jasmine and patchouli.",
                image: "/Blue J.jpg"
            },
            {
                id: 10,
                name: "Gold Oud",
                price: "R120",
                originalPrice: "R150",
                saleAmount: "20%",
                description: "A floral explosion with patchouli and vanilla.",
                image: "/GOLD-OUD-CLASSIC-BOTTLE-1-scaled-1.jpg"
            },
            {
                id: 11,
                name: "Pearl and Melon",
                price: "R120",
                originalPrice: "R150",
                saleAmount: "20%",
                description: "A gourmand fragrance with chocolate and caramel notes.",
                image: "/Pearl and melon.jpg"
            },
            {
                id: 12,
                name: "To my Boy",
                price: "R120",
                originalPrice: "R150",
                saleAmount: "20%",
                description: "A woody aromatic fragrance with incense and cedar.",
                image: "/To my boy.jpg"
            },
            {
                id: 13,
                name: "Coconut Gel",
                price: "R20",
                originalPrice: "R30",
                saleAmount: "33%",
                description: "A seductive scent with tuberose and cocoa.",
                image: "/Screenshot_20250202_074350_Google.jpg"
            },
            {
                id: 14,
                name: "Aloe Vera",
                price: "R20",
                originalPrice: "R30",
                saleAmount: "33%",
                description: "A bold and spicy fragrance with cinnamon and leather.",
                image: "/U54a401ec742042b1af6129ca6222adaf1.png_720x720q50.png"
            },
            {
                id: 15,
                name: "Real Olive",
                price: "R20",
                originalPrice: "R30",
                saleAmount: "33%",
                description: "A fruity and smoky fragrance with pineapple and birch.",
                image: "/Ud44703f6bdb54576b79e95ee431c65c9Q.png_720x720q50.png"
            },
            {
                id: 16,
                name: "SheaButterEssence",
                price: "R20",
                originalPrice: "R30",
                saleAmount: "33%",
                description: "A floral fragrance with lavender and orange blossom.",
                image: "/FarmStayRealSheaButterEssenceMask2.jpg"
            },
            {
                id: 17,
                name: "WHOLESALE PRODUCTS",
                price: "",
                originalPrice: "",
                saleAmount: "",
                description: "This page ",
                image: "/Products1/oud-mood-silver.jpg"
            },
          [
  {
    "id": 18,
    "name": "Aloe Lipgloss 24PCS",
    "price": "R329",
    "originalPrice": "R380",
    "saleAmount": "380",
    "description": "Are you looking for a profitable product to add to your inventory? The Aloe Lipgloss is a fantastic choice! You can purchase a pack of 24 pieces for just R329. Here's how you can turn this into a great profit: Cost Price: R329 for 24 pieces (R13.71 per piece). Recommended Selling Price: Sell each piece at R25. Total Revenue: 24 pieces x R25 = R600. Profit: R600 - R329 = R271. This means you can make a profit of R271 by selling all 24 pieces at R25 each. The Aloe Lipgloss is a high-demand product with a sensual fragrance featuring pomegranate and lotus, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/Screenshot_20250204_193801_Samsung Internet.jpg"
  },
  {
    "id": 19,
    "name": "Aimond Oil 24PCS",
    "price": "R429",
    "originalPrice": "R480",
    "saleAmount": "13%",
    "description": "Are you looking for a profitable product to add to your inventory? The Aimond Oil is a fantastic choice! You can purchase a pack of 24 pieces for just R429. Here's how you can turn this into a great profit: Cost Price: R429 for 24 pieces (R17.88 per piece). Recommended Selling Price: Sell each piece at R35. Total Revenue: 24 pieces x R35 = R840. Profit: R840 - R429 = R411. This means you can make a profit of R411 by selling all 24 pieces at R35 each. The Aimond Oil is a high-demand product with a fresh and floral fragrance featuring violet and strawberry, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/Screenshot_20250204_225007_Gallery.jpg"
  },
  {
    "id": 20,
    "name": "Lip Serum 24PCS",
    "price": "R329",
    "originalPrice": "R380",
    "saleAmount": "16%",
    "description": "Are you looking for a profitable product to add to your inventory? The Lip Serum is a fantastic choice! You can purchase a pack of 24 pieces for just R329. Here's how you can turn this into a great profit: Cost Price: R329 for 24 pieces (R13.71 per piece). Recommended Selling Price: Sell each piece at R25. Total Revenue: 24 pieces x R25 = R600. Profit: R600 - R329 = R271. This means you can make a profit of R271 by selling all 24 pieces at R25 each. The Lip Serum is a high-demand product with a fresh and spicy fragrance featuring mint and green apple, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/Screenshot_20250204_224959_Gallery.jpg"
  },
  {
    "id": 21,
    "name": "Flavoured Lipgloss 24PCS",
    "price": "R429",
    "originalPrice": "R480",
    "saleAmount": "13%",
    "description": "Are you looking for a profitable product to add to your inventory? The Flavoured Lipgloss is a fantastic choice! You can purchase a pack of 24 pieces for just R429. Here's how you can turn this into a great profit: Cost Price: R429 for 24 pieces (R17.88 per piece). Recommended Selling Price: Sell each piece at R35. Total Revenue: 24 pieces x R35 = R840. Profit: R840 - R429 = R411. This means you can make a profit of R411 by selling all 24 pieces at R35 each. The Flavoured Lipgloss is a high-demand product with a fresh and floral fragrance featuring violet and strawberry, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/Screenshot_20250204_225110_Gallery.jpg"
  },
  {
    "id": 22,
    "name": "Aloe Vera Lipoil 24PCS",
    "price": "R429",
    "originalPrice": "R480",
    "saleAmount": "16%",
    "description": "Are you looking for a profitable product to add to your inventory? The Aloe Vera Lipoil is a fantastic choice! You can purchase a pack of 24 pieces for just R429. Here's how you can turn this into a great profit: Cost Price: R429 for 24 pieces (R17.88 per piece). Recommended Selling Price: Sell each piece at R35. Total Revenue: 24 pieces x R35 = R840. Profit: R840 - R429 = R411. This means you can make a profit of R411 by selling all 24 pieces at R35 each. The Aloe Vera Lipoil is a high-demand product with a fresh and spicy fragrance featuring mint and green apple, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/d6ffd61439744d31b6e9519060e31c85.jpg"
  },
  {
    "id": 23,
    "name": "Body Glow Oil 10PCS",
    "price": "R699",
    "originalPrice": "R800",
    "saleAmount": "16%",
    "description": "Are you looking for a profitable product to add to your inventory? The Body Glow Oil is a fantastic choice! You can purchase a pack of 10 pieces for just R699. Here's how you can turn this into a great profit: Cost Price: R699 for 10 pieces (R69.90 per piece). Recommended Selling Price: Sell each piece at R120. Total Revenue: 10 pieces x R120 = R1200. Profit: R1200 - R699 = R501. This means you can make a profit of R501 by selling all 10 pieces at R120 each. The Body Glow Oil is a high-demand product with a unique fragrance featuring exotic spices and amber, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/Untitled design_20250204_184916_0000.png"
  },
  {
    "id": 24,
    "name": "Flask Set 5PCS",
    "price": "R439",
    "originalPrice": "R500",
    "saleAmount": "13%",
    "description": "Are you looking for a profitable product to add to your inventory? The Flask Set is a fantastic choice! You can purchase a pack of 5 pieces for just R439. Here's how you can turn this into a great profit: Cost Price: R439 for 5 pieces (R87.80 per piece). Recommended Selling Price: Sell each piece at R150. Total Revenue: 5 pieces x R150 = R750. Profit: R750 - R439 = R311. This means you can make a profit of R311 by selling all 5 pieces at R150 each. The Flask Set is a high-demand product with a fresh and woody fragrance featuring citrus and musk, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/Screenshot_20250204_135340_WhatsApp.jpg"
  },
  {
    "id": 25,
    "name": "Wig Installation Kits",
    "price": "R449",
    "originalPrice": "R550",
    "saleAmount": "16%",
    "description": "Are you looking for a profitable product to add to your inventory? The Wig Installation Kits are a fantastic choice! You can purchase a pack for just R449. Here's how you can turn this into a great profit: Cost Price: R449 per kit. Recommended Selling Price: Sell each kit at R700. Total Revenue: R700. Profit: R700 - R449 = R251. This means you can make a profit of R251 by selling each kit at R700. The Wig Installation Kits are a high-demand product with a floral and fruity fragrance featuring peach and jasmine, making it appealing to customers. Start selling today and watch your profits grow!",
    "image": "/d6ffd61439744d31b6e9519060e31c85.jpg"
  }
]
            {
  id: 26,
  name: "Oil perfumes",
  price: "R249",
  originalPrice: "R300",
  saleAmount: "16%",
  description: "A unique fragrance with exotic spices and amber.",
  image: "euphoria.jpg"
},
{
  id: 27,
  name: "Lipmask 24PCS",
  price: "R229",
  originalPrice: "R300",
  saleAmount: "13%",
  description: "A fresh and woody fragrance with citrus and musk.",
  image: "/IMG-20250130-WA0016.jpg"
},
{
  id: 28,
  name: "Lustre lipoil 24PCS",
  price: "R229",
  originalPrice: "R300",
  saleAmount: "16%",
  description: "A floral and fruity fragrance with peach and jasmine.",
  image: "/Screenshot_20250204_200144_Google.jpg"
},
{
  id: 29,
  name: "Hand cream",
  price: "R329",
  originalPrice: "R400",
  saleAmount: "13%",
  description: "A fresh and woody fragrance with citrus and musk.",
  image: "/Screenshot_20250204_163932_Google.jpg"
},
{
  id: 30,
  name: "Body mist 5PCS",
  price: "R399",
  originalPrice: "R450",
  saleAmount: "16%",
  description: "A floral and fruity fragrance with peach and jasmine.",
  image: "/IMG-20250201-WA0000.jpg"
},{
  id: 31,
  name: "Body Scrubs ",
  price: "R329",
  originalPrice: "R400",
  saleAmount: "13%",
  description: "A fresh and woody fragrance with citrus and musk.",
  image: "daisy.jpg"
},
{
  id: 29,
  name: "Lustre lipoil 24PCS",
  price: "R449",
  originalPrice: "R550",
  saleAmount: "16%",
  description: "A floral and fruity fragrance with peach and jasmine.",
  image: "versace-eros.jpg"
},
        ];

        // Pagination settings
        const itemsPerPage = 17;
        let currentPage = 1;

        function displayProducts(page) {
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const paginatedProducts = products.slice(startIndex, endIndex);

            const productGrid = document.getElementById('productGrid');
            productGrid.innerHTML = paginatedProducts.map(product => `
                <div class="product-block__inner">
                    <div class="image image--shape-1">
                        <div class="inner">
                            <a href="#" onclick="openModal(${product.id}); return false;">
                                <div class="image__primary">
                                    <div class="rimage-outer-wrapper">
                                        <div class="rimage-wrapper" style="padding-top:100%">
                                            <img class="rimage__image" src="${product.image}" alt="${product.name}">
                                        </div>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <span class="product-label product-label--sale">
                            <span>Save ${product.saleAmount}</span>
                        </span>
                    </div>
                    
                    <div class="product-block__title-price">
                        <a class="title" href="#">
                            ${product.name}
                        </a>
                        <div class="price on-sale">
                            <span class="amount theme-money">${product.price}</span>
                            <del><span class="theme-money">${product.originalPrice}</span></del>
                        </div>
                    </div>

                    <div class="product-form product-form--mini">
                        <form class="mini-product-purchase-form" onsubmit="addToCart(event, ${product.id})">
                            <button type="submit" class="btn product-add">
                                <span class="button-text">Add to cart</span>
                            </button>
                        </form>
                    </div>

                    <div class="qty-adjuster-container">
                        <div class="qty-adjuster qty-adjuster--ajax">
                            <div class="qty-adjuster__inner">
                                <button class="btn qty-adjuster__down">âˆ’</button>
                                <input class="qty-adjuster__value" type="text" value="1">
                                <button class="btn qty-adjuster__up">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function setupPagination() {
            const pageCount = Math.ceil(products.length / itemsPerPage);
            const pagination = document.getElementById('pagination');
            
            pagination.innerHTML = Array.from({length: pageCount}, (_, i) => `
                <button class="page-btn ${i + 1 === currentPage ? 'active' : ''}" 
                        onclick="changePage(${i + 1})">
                    ${i + 1}
                </button>
            `).join('');
        }

        function changePage(page) {
            currentPage = page;
            displayProducts(currentPage);
            setupPagination();
        }

        // Modal functionality
        function openModal(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                document.getElementById('modalImage').src = product.image;
                document.getElementById('modalName').innerText = product.name;
                document.getElementById('modalDescription').innerText = product.description;
                document.getElementById('modalPrice').innerText = product.price;
                document.getElementById('productModal').style.display = 'flex';
            }
        }

        // Close modal
        document.getElementById('closeModal').addEventListener('click', () => {
            document.getElementById('productModal').style.display = 'none';
        });

        // Close modal when clicking outside
        window.addEventListener('click', (event) => {
            const modal = document.getElementById('productModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Initial load
        displayProducts(currentPage);
        setupPagination();

        // Cart functionality
        let cart = [];

        function addToCart(event, productId) {
            event.preventDefault();
            const form = event.target.closest('form');
            const quantityInput = form.parentElement.parentElement.querySelector('.qty-adjuster__value');
            const quantity = parseInt(quantityInput.value) || 1;

            const product = products.find(p => p.id === productId);
            if (!product) return;

            // Clean price value (remove 'R' and commas)
            const price = parseFloat(product.price.replace(/[^0-9.]/g, ''));

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: price,
                    quantity: quantity,
                    image: product.image
                });
            }

            updateCartDisplay();
        }

        function updateCartDisplay() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            cartItems.innerHTML = cart.length > 0 
                ? cart.map(item => `
                    <div class="cart-item" style="display: flex; justify-content: space-between; padding: 8px; border-bottom: 1px solid #eee;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <img src="${item.image}" alt="${item.name}" style="width: 40px; height: 40px; object-fit: cover;">
                            <span>${item.name}</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span>${item.quantity} x R${item.price.toFixed(2)}</span>
                            <span>R${(item.quantity * item.price).toFixed(2)}</span>
                        </div>
                    </div>
                `).join('')
                : '<p>Your cart is empty</p>';

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.textContent = `R${total.toFixed(2)}`;
        }

        // WhatsApp integration
        document.getElementById('sendToWhatsApp').addEventListener('click', () => {
            if (cart.length === 0) {
                alert('Your cart is empty!');
                return;
            }

            const message = cart.map(item => 
                `*${item.name}*%0A` +
                `Quantity: ${item.quantity}%0A` +
                `Price: R${item.price.toFixed(2)} each%0A` +
                `Total: R${(item.quantity * item.price).toFixed(2)}%0A%0A`
            ).join('');

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const whatsappMessage = encodeURIComponent(
                `Hello Destine Plug!%0A%0A` +
                `I would like to order:%0A%0A${message}` +
                `*Grand Total: R${total.toFixed(2)}*%0A%0A` +
                `Please confirm my order. Thank you!`
            );

            window.open(`https://wa.me/27674539254?text=${whatsappMessage}`, '_blank');
        });

        // Add quantity adjuster functionality
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('qty-adjuster__down')) {
                const input = e.target.parentElement.querySelector('.qty-adjuster__value');
                input.value = Math.max(1, parseInt(input.value) - 1);
            }
            
            if (e.target.classList.contains('qty-adjuster__up')) {
                const input = e.target.parentElement.querySelector('.qty-adjuster__value');
                input.value = parseInt(input.value) + 1;
            }
        });
    </script>
</body>
</html>
